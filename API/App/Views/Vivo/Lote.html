<div ng-if="dashboard.status == 200">

    <div class="row">
        <div class="col-xs-12">

            <div class="box box-warning">
                <div class="box-header with-border">
                    <h3 class="box-title">Análise do Lote</h3>
                    <select ng-model="dashboard.lote.dtinclusao" ng-change="filtrarLote()" ng-options="o as o for o in dashboard.lotes"></select>
                </div>
                <div class="box-body">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered" style="width:100%" ng-if="dashboard.lote.dados">
                            <thead>
                                <tr>
                                    <th>Dia</th>
                                    <th>Volume</th>
                                    <th>% Devolvido</th>
                                    <th>Spin</th>
                                    <th>% Discado</th>
                                    <th>% Contato</th>
                                    <th>% CPC</th>
                                    <th>% CPCA</th>
                                    <th>% Promessa</th>
                                    <th>Conversão</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="l in dashboard.lote.dados">
                                    <td>{{l.dia}}</td>
                                    <td>{{l.total | number}}</td>
                                    <td>{{l.devolvido / l.total | percentage:0}}</td>
                                    <td>{{l.ttdiscado / l.total | number:1}}</td>
                                    <td>{{l.discado / l.total | percentage:0}}</td>
                                    <td>{{l.contato / l.total | percentage:0}}</td>
                                    <td>{{l.cpc / l.total | percentage:0}}</td>
                                    <td>{{l.cpca / l.total | percentage:0}}</td>
                                    <td>{{l.promessa / l.total | percentage:0}}</td>
                                    <td>{{l.promessa / l.cpca | percentage:0}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <h3>Análise Comparativa</h3>

    <div class="row margin-bottom">
        <div class="col-xs-12">
            <input type="range" min="0" max="15" value="10" ng-model="dashboard.comparativo.dia" ng-change="filtrarColumn();filtrarBubble();" />
            {{dashboard.comparativo.dia}}
        </div>
    </div>
        
    <label>Indicador:</label>
    <select ng-model="dashboard.comparativo.indicador" ng-change="filtrarColumn()">
        <option value="total">Volume</option>
        <option value="promessa">Promessa</option>
        <option value="%discado">% Discado</option>
        <option value="%contato">% Contato</option>
        <option value="%cpc">% CPC</option>
        <option value="%cpca">% CPCA</option>
        <option value="%promessa">% Promessa</option>
        <option value="conversao">Conversão</option>
        <option value="spin">Spin Rate</option>
    </select>

    <column-chart dados="dashboard.comparativo.column" series-name="teste"></column-chart>
     
    <label>Eixo X:</label>
    <select ng-model="dashboard.comparativo.x" ng-change="filtrarBubble()">
        <option value="total">Volume</option>
        <option value="promessa">Promessa</option>
        <option value="%discado">% Discado</option>
        <option value="%contato">% Contato</option>
        <option value="%cpc">% CPC</option>
        <option value="%cpca">% CPCA</option>
        <option value="%promessa">% Promessa</option>
        <option value="conversao">Conversão</option>
        <option value="spin">Spin Rate</option>
    </select>

    <label>Eixo Y:</label>
    <select ng-model="dashboard.comparativo.y" ng-change="filtrarBubble()">
        <option value="total">Volume</option>
        <option value="promessa">Promessa</option>
        <option value="%discado">% Discado</option>
        <option value="%contato">% Contato</option>
        <option value="%cpc">% CPC</option>
        <option value="%cpca">% CPCA</option>
        <option value="%promessa">% Promessa</option>
        <option value="conversao">Conversão</option>
        <option value="spin">Spin Rate</option>
    </select>

    <label>Eixo Z:</label>
    <select ng-model="dashboard.comparativo.z" ng-change="filtrarBubble()">
        <option value=""></option>
        <option value="total">Volume</option>
        <option value="promessa">Promessa</option>
        <option value="%discado">% Discado</option>
        <option value="%contato">% Contato</option>
        <option value="%cpc">% CPC</option>
        <option value="%cpca">% CPCA</option>
        <option value="%promessa">% Promessa</option>
        <option value="conversao">Conversão</option>
        <option value="spin">Spin Rate</option>
    </select>

    <bubble-chart dados="dashboard.comparativo.bubble" titulo-x="dashboard.comparativo.x" titulo-y="dashboard.comparativo.y" titulo-z="dashboard.comparativo.z"></bubble-chart>
  
</div>