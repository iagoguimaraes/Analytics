<!-- DAHSBOARD -->
<div ng-if="dashboard.status == 200">
  
    <div class="box box-widget widget-user">
        <div class="widget-user-header bg-black" style="background: url('/App/Content/Images/Vivo/viva-tudo.jpg') center center;">
        </div>
        <div class="widget-user-image">
            <img class="img-circle" src="/App/Content/Images/Vivo/vivo.png" height="128" width="128">
        </div>
        <div class="box-footer">
            <div class="row">
                <div class="col-sm-2 col-sm-offset-1 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.discado | megaNumber"></h5>
                        <span class="description-text">Discado</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.contato | megaNumber"></h5>
                        <span class="description-text">Contato</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpc | megaNumber"></h5>
                        <span class="description-text">CPC</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpca | number"></h5>
                        <span class="description-text">CPCA</span>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.promessa | number"></h5>
                        <span class="description-text">Promessa</span>
                    </div>
                </div>
            </div>

            <div class="row" style="background-color: #7e2595; color: white; opacity: 0.8">
                <div class="col-sm-2 col-sm-offset-1 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.ad | number"></h5>
                        <span class="description-text">AD</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.contato / dashboard.resumo.discado | percentage: 1"></h5>
                        <span class="description-text">Hit Rate</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpc / dashboard.resumo.contato | percentage: 1"></h5>
                        <span class="description-text">Tx Loc</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpca / dashboard.resumo.cpc | percentage:1"></h5>
                        <span class="description-text">Tx Apv</span>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.promessa / dashboard.resumo.cpca | percentage: 1"></h5>
                        <span class="description-text">Conversao</span>
                    </div>
                </div>
            </div>


            <div class="row" style="background-color: #f59120; color:white; opacity: 0.8">
                <div class="col-sm-2 col-sm-offset-1 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.discado_pa | megaNumber"></h5>
                        <span class="description-text">Discado PA</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.contato_pa | megaNumber"></h5>
                        <span class="description-text">Contato PA</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpc_pa | megaNumber"></h5>
                        <span class="description-text">CPC PA</span>
                    </div>
                </div>
                <div class="col-sm-2 border-right">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.cpca_pa | number"></h5>
                        <span class="description-text">CPCA PA</span>
                    </div>
                </div>
                <div class="col-sm-2">
                    <div class="description-block">
                        <h5 class="description-header" ng-bind="dashboard.resumo.promessa_pa | number"></h5>
                        <span class="description-text">Promessa PA</span>
                    </div>
                </div>
            </div> 



        </div>
    </div>


    <div class="row">
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Análise por Campanha</h3>
                </div>
                <div class="box-body">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered" style="width:100%" ng-if="dashboard.produto">
                            <thead>
                                <tr>
                                    <th>Campanha</th>
                                    <th>AD</th>
                                    <th>Discado</th>
                                    <th>Contato</th>
                                    <th>CPC</th>
                                    <th>CPCA</th>
                                    <th>Promessa</th>
                                    <th>HitRate</th>
                                    <th>TxLoc</th>
                                    <th>TxApv</th>
                                    <th>Conversão</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="p in dashboard.produto">
                                    <td>{{p.produto}}</td>
                                    <td>{{p.ad | number}}</td>
                                    <td>{{p.discado | number}}</td>
                                    <td>{{p.contato | number}}</td>
                                    <td>{{p.cpc | number}}</td>
                                    <td>{{p.cpca | number}}</td>
                                    <td>{{p.promessa | number}}</td>
                                    <td>{{p.contato / p.discado | percentage:1}}</td>
                                    <td>{{p.cpc / p.contato | percentage:1}}</td>
                                    <td>{{p.cpca / p.cpc | percentage:1}}</td>
                                    <td>{{p.promessa / p.cpca | percentage:1}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>



    <div class="row">
        <div class="col-xs-12">

            <div class="box box-warning">
                <div class="box-header with-border">
                    <h3 class="box-title">Análise por Hora</h3>
                </div>
                <div class="box-body">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered" style="width:100%" ng-if="dashboard.horahora">
                            <thead>
                                <tr>
                                    <th>Hora</th>
                                    <th>Discado</th>
                                    <th>Contato</th>
                                    <th>CPC</th>
                                    <th>CPCA</th>
                                    <th>Promessa</th>
                                    <th>Hit Rate</th>
                                    <th>Tx Loc</th>
                                    <th>Tx Apv</th>
                                    <th>Conversão</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="hora in dashboard.horahora">
                                    <td>{{hora.hora}}</td>
                                    <td>{{hora.discado | number}}</td>
                                    <td>{{hora.contato | number}}</td>
                                    <td>{{hora.cpc | number}}</td>
                                    <td>{{hora.cpca | number}}</td>
                                    <td>{{hora.promessa | number}}</td>
                                    <td>{{hora.contato / hora.discado | percentage:1}}</td>
                                    <td>{{hora.cpc / hora.contato | percentage:1}}</td>
                                    <td>{{hora.cpca / hora.cpc | percentage:1}}</td>
                                    <td>{{hora.promessa / hora.cpca | percentage:1}}</td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>Total</th>
                                    <th>{{dashboard.resumo.discado | number}}</th>
                                    <th>{{dashboard.resumo.contato | number}}</th>
                                    <th>{{dashboard.resumo.cpc | number}}</th>
                                    <th>{{dashboard.resumo.cpca | number}}</th>
                                    <th>{{dashboard.resumo.promessa | number}}</th>
                                    <th>{{dashboard.resumo.contato / dashboard.resumo.discado | percentage: 1}}</th>
                                    <th>{{dashboard.resumo.cpc / dashboard.resumo.contato | percentage: 1}}</th>
                                    <th>{{dashboard.resumo.cpca / dashboard.resumo.cpc | percentage: 1}}</th>
                                    <th>{{dashboard.resumo.promessa / dashboard.resumo.cpca | percentage: 1}}</th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="row margin-bottom">
        <div class="col-xs-12 margin-bottom">
            <h3 class="text-center">Diagrama de Finalizações</h3>
            <sankey-chart dados="dashboard.diagrama" series-name="Qt Chamadas"></sankey-chart>
        </div>
    </div>

    <div class="row margin-bottom">
        <div class="col-xs-12 margin-bottom">
            <h3 class="text-center">Insucesso no Contato</h3>
            <pie-chart dados="dashboard.discador" series-name="Qt Chamadas" inner-size="60%"></pie-chart>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <h3 class="box-title">
                Gráfico por Hora
                <small class="pull-right">
                    <select ng-model="grafico.indicador" ng-change="carregarGrafico()">
                        <option value="hitrate">Hit Rate</option>
                        <option value="txloc">Tx Loc</option>
                        <option value="txapv">Tx Apv</option>
                        <option value="conversao">Conversão</option>
                        <option value="discado">Discado</option>
                        <option value="contato">Contato</option>
                        <option value="cpc">CPC</option>
                        <option value="cpca">CPCA</option>
                        <option value="promessa">Promessa</option>
                    </select>
                </small>
            </h3>
            <line-am-chart dados="dashboard.grafico" style="height:400px;width:100%;"></line-am-chart>
        </div>
    </div>

</div>




<!-- SIDE BAR CONTROL -->
<aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs -->
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
        <li class="active"><a data-target="#control-sidebar-filters-tab" data-toggle="tab"><i class="fa fa-filter"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
        <!-- Filtros -->
        <div class="tab-pane active" id="control-sidebar-filters-tab" ng-if="dashFiltros.status === 200">
            <!--DATA INCIAL-->
            <div class="form-group">
                <label class="control-sidebar-subheading">Data Inicial</label>
                <div class="input-group date">
                    <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                    </div>
                    <date-picker class="form-control pull-right" placeholder="yyyy-mm-dd" ng-model="filtros.dtini"></date-picker>
                </div>
            </div>

            <!--DATA FINAL-->
            <div class="form-group">
                <label class="control-sidebar-subheading">Data Final</label>
                <div class="input-group date">
                    <div class="input-group-addon">
                        <i class="fa fa-calendar"></i>
                    </div>
                    <date-picker class="form-control pull-right" placeholder="yyyy-mm-dd" ng-model="filtros.dtfim"></date-picker>
                </div>
            </div>

            <!--SEGMENTACOES-->
            <div class="form-group">
                <label class="control-sidebar-subheading">Segmentações</label>
                <select2 class="form-control" data-placeholder="Selecione" ng-model="filtros.segmentacoes" dados="dashFiltros.segmentacoes"></select2>
            </div>

            <!--CAMPANHAS-->
            <div class="form-group">
                <label class="control-sidebar-subheading">Campanhas</label>
                <select2 class="form-control" data-placeholder="Selecione" ng-model="filtros.campanhas" dados="dashFiltros.campanhas"></select2>
            </div>

            <!--BOTÃO-->
            <div class="form-group">
                <button type="button" class="btn btn-primary" data-toggle="control-sidebar" ng-click="carregarDashboard()">Carregar Dados</button>
            </div>

        </div>
        <!-- /.tab-pane -->
    </div>
</aside>
<!-- /.control-sidebar -->
<!-- Add the sidebar's background. This div must be placed
immediately after the control sidebar -->
<div class="control-sidebar-bg"></div>